(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5344,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(95187);let s=(0,t.createServerReference)("40a54c6fc0460631c70ca009a3a8ed4aa9ce353cbf",t.callServer,void 0,t.findSourceMapURL,"default")},98377,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),s=e.i(87231),r=e.i(5344),a=e.i(71645),i=e.i(80045),l=e.i(46696);function o(){let[e,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[n,u]=(0,a.useState)(null),{refreshWish:m}=(0,a.useContext)(i.WishContext);async function h(){try{d(!0);let e=await (0,s.default)();console.log(e),"success"===e.status&&o(e.data)}catch(e){console.error("Failed to load wishlist",e)}finally{d(!1)}}async function f(e){try{u(e);let t=await (0,r.default)(e);"success"===t.status?(o(t=>t.filter(t=>t._id!==e)),m(),l.toast.success("Removed from wishlist",{position:"top-center",duration:2e3})):(console.error("removeWish failed:",t),l.toast.error("Failed to remove item",{position:"top-center",duration:2e3}))}catch(e){console.error(e)}finally{u(null)}}return((0,a.useEffect)(()=>{h()},[]),c)?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"mt-4 text-gray-700 dark:text-gray-300 text-lg font-medium",children:"Loading your wishlist..."})]})}):(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"My Wishlist ❤️"}),0===e.length?(0,t.jsx)("p",{className:"text-gray-500",children:"No items in your wishlist yet."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg shadow hover:shadow-lg transition",children:[(0,t.jsx)("img",{src:e.imageCover,alt:e.title,className:"w-full h-40 object-cover rounded-md mb-3"}),(0,t.jsx)("h2",{className:"font-semibold",children:e.title}),(0,t.jsxs)("p",{className:"text-gray-500",children:[e.price," EGP"]}),(0,t.jsx)("button",{onClick:()=>f(e._id),disabled:n===e._id,className:"cursor-pointer mt-2 px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 disabled:opacity-50",children:(e._id,"Remove")})]},e._id))})]})}}]);
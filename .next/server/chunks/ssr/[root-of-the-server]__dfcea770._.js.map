{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/Route/Front-end/React/e-commerce-app/e-commerce/src/utilities/getMyToken.ts"],"sourcesContent":["\"use server\"\r\nimport { cookies } from \"next/headers\";\r\nimport { decode } from \"next-auth/jwt\";\r\n\r\n\r\nexport default async function getMyToken() {\r\n    try {\r\n        const decoded = (await cookies()).get('next-auth.session-token')?.value ||\r\n        (await cookies()).get('__Secure-next-auth.session-token')?.value;\r\n    \r\n        if(!decoded) return null;\r\n    \r\n    \r\n        const token = await decode({token : decoded, secret : process.env.NEXTAUTH_SECRET!})\r\n        \r\n        return token?.token || null;\r\n    }\r\n    catch(err) {\r\n        return null;\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;2CAK8B,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/Route/Front-end/React/e-commerce-app/e-commerce/src/CartAction/getUserCart.action.ts"],"sourcesContent":["import getMyToken from \"@/utilities/getMyToken\";\r\n\r\nexport default async function getUserCart () {\r\n    const token = await getMyToken();\r\n\r\n    if(!token) {\r\n        throw new Error(\"No token found\");\r\n    }\r\n\r\n    const res = await fetch('https://ecommerce.routemisr.com/api/v1/cart',{\r\n        method : \"GET\",\r\n        headers : {\r\n            token,\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n\r\n    const data = await res.json();\r\n    return data;\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEe,eAAe;IAC1B,MAAM,QAAQ,MAAM,IAAA,mKAAU;IAE9B,IAAG,CAAC,OAAO;QACP,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,MAAM,MAAM,MAAM,+CAA8C;QAClE,QAAS;QACT,SAAU;YACN;YACA,gBAAgB;QACpB;IACJ;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO;AACX","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///D:/Route/Front-end/React/e-commerce-app/e-commerce/src/context/CartContext.jsx"],"sourcesContent":["'use client'\r\nimport { createContext, useEffect, useState } from \"react\";\r\nimport getUserCart from \"@/CartAction/getUserCart.action\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport default function CartContextProvider({ children }) {\r\n\r\n    const [count, setcount] = useState(\"\");\r\n    let sum = 0;\r\n\r\n    async function userCart() {\r\n        try {\r\n            let res = await getUserCart();\r\n            console.log(res);\r\n            if(res.status === 'success') {\r\n                res.data.products.forEach((item) => {\r\n                    sum += item.count;\r\n                })\r\n                console.log(sum);\r\n                setcount(sum);\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(\"not Logged in\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        userCart();\r\n    })\r\n\r\n    return (\r\n        <CartContext.Provider value={{count, setcount}}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )\r\n}"],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAIO,MAAM,4BAAc,IAAA,sNAAa;AAEzB,SAAS,oBAAoB,EAAE,QAAQ,EAAE;IAEpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,IAAI,MAAM;IAEV,eAAe;QACX,IAAI;YACA,IAAI,MAAM,MAAM,IAAA,qJAAW;YAC3B,QAAQ,GAAG,CAAC;YACZ,IAAG,IAAI,MAAM,KAAK,WAAW;gBACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACvB,OAAO,KAAK,KAAK;gBACrB;gBACA,QAAQ,GAAG,CAAC;gBACZ,SAAS;YACb;QACJ,EACA,OAAO,KAAK;YACR,QAAQ,GAAG,CAAC;QAChB;IACJ;IAEA,IAAA,kNAAS,EAAC;QACN;IACJ;IAEA,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAC;YAAO;QAAQ;kBACxC;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///D:/Route/Front-end/React/e-commerce-app/e-commerce/src/WishActions/getUserWish.wish.ts"],"sourcesContent":["import getMyToken from \"@/utilities/getMyToken\";\r\n\r\nexport default async function getUserWish () {\r\n    const token = await getMyToken();\r\n\r\n    if(!token) {\r\n        throw new Error(\"No token found\");\r\n    }\r\n\r\n    const res = await fetch('https://ecommerce.routemisr.com/api/v1/wishlist',{\r\n        method : \"GET\",\r\n        headers : {\r\n            token,\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n\r\n    const data = await res.json();\r\n    return data;\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEe,eAAe;IAC1B,MAAM,QAAQ,MAAM,IAAA,mKAAU;IAE9B,IAAG,CAAC,OAAO;QACP,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,MAAM,MAAM,MAAM,mDAAkD;QACtE,QAAS;QACT,SAAU;YACN;YACA,gBAAgB;QACpB;IACJ;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO;AACX","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///D:/Route/Front-end/React/e-commerce-app/e-commerce/src/context/WishContext.jsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\nimport getUserWish from \"@/WishActions/getUserWish.wish\";\r\n\r\nexport const WishContext = createContext(null);\r\n\r\nexport default function WishContextProvider({ children }) {\r\n  const [wishCount, setWishCount] = useState(0);\r\n\r\n  async function refreshWish() {\r\n    try {\r\n      const res = await getUserWish();\r\n      if (res?.status === \"success\") {\r\n        setWishCount(res.data.length)\r\n      } else {\r\n        setWishCount(0);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"refreshWish error:\", err);\r\n      setWishCount(0);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    refreshWish();\r\n  }, []);\r\n\r\n  return (\r\n    <WishContext.Provider value={{ wishCount, refreshWish }}>\r\n      {children}\r\n    </WishContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAIO,MAAM,4BAAc,IAAA,sNAAa,EAAC;AAE1B,SAAS,oBAAoB,EAAE,QAAQ,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,eAAe;QACb,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,oJAAW;YAC7B,IAAI,KAAK,WAAW,WAAW;gBAC7B,aAAa,IAAI,IAAI,CAAC,MAAM;YAC9B,OAAO;gBACL,aAAa;YACf;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sBAAsB;YACpC,aAAa;QACf;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAW;QAAY;kBACnD;;;;;;AAGP","debugId":null}}]
}
module.exports=[99570,a=>{"use strict";a.s(["Button",()=>i],99570);var b=a.i(87924),c=a.i(11011),d=a.i(98621);let e=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,f=d.clsx;var g=a.i(68114);let h=((a,b)=>c=>{var d;if((null==b?void 0:b.variants)==null)return f(a,null==c?void 0:c.class,null==c?void 0:c.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==c?void 0:c[a],d=null==h?void 0:h[a];if(null===b)return null;let f=e(b)||e(d);return g[a][f]}),j=c&&Object.entries(c).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return f(a,i,null==b||null==(d=b.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==c?void 0:c.class,null==c?void 0:c.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:d,size:e,asChild:f=!1,...i}){let j=f?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:d,size:e,className:a})),...i})}},17959,a=>{"use strict";a.s(["default",()=>p],17959);var b=a.i(87924),c=a.i(5050);let d=(0,c.createServerReference)("7820ff6d89a9553ec9b360ebdf103d1632b123343e",c.callServer,void 0,c.findSourceMapURL,"default");var e=a.i(56757);let f=e.z.object({name:e.z.string().nonempty("Name is required").min(2,"Name must be at least 2 characters").max(10,"Name must not exceed 10 characters"),details:e.z.string().nonempty("Name is required").min(2,"Name must be at least 2 characters").max(10,"Name must not exceed 10 characters"),phone:e.z.string().regex(/^(\+201|01|00201)[0-2,5]{1}[0-9]{8}$/,"Phone must be a valid Egyptian number (e.g. 010, 011, 012, 015)"),city:e.z.string().nonempty("Name is required").min(2,"Name must be at least 2 characters").max(10,"Name must not exceed 10 characters")});var g=a.i(59501),h=a.i(72131),i=a.i(95245),j=a.i(41921),k=a.i(66718),l=a.i(99570),m=a.i(23292);let n=(0,c.createServerReference)("00aec682ec0f62d3ffdb918d978b1069e4d6aeddf2",c.callServer,void 0,c.findSourceMapURL,"default"),o=(0,c.createServerReference)("40a22600d8ff45231d66e3c9275d2797e0248672aa",c.callServer,void 0,c.findSourceMapURL,"default");function p(){let[a,c]=(0,h.useState)([]),e=(0,i.useForm)({defaultValues:{name:"",details:"",phone:"",city:""},resolver:(0,g.zodResolver)(f)});async function p(a){try{let b=await d(a.name,a.details,a.phone,a.city);console.log(b),"success"===b.status?(m.toast.success("Address Added Successfully"),e.reset()):m.toast.error(`Failed to add address: ${b.message}`)}catch(a){console.log(a)}}async function q(){let a=await n();console.log(a),"success"===a.status?(c(a.data),console.log("Fetched Addresses:",a.data)):console.log("Failed to fetch addresses")}async function r(a){let b=await o(a);console.log(b),"success"===b.status?(m.toast.success("Address Removed Successfully"),c(b.data)):m.toast.error(`Failed to remove address: ${b.message}`)}return(0,h.useEffect)(()=>{q()},[]),(0,b.jsxs)("div",{className:"w-full sm:w-2/3 md:w-1/2 lg:w-1/3 mx-auto mt-12 px-4",children:[(0,b.jsx)(j.Form,{...e,children:(0,b.jsxs)("form",{onSubmit:e.handleSubmit(p),className:"space-y-5",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-center text-blue-600",children:"Add New Address"}),(0,b.jsx)(j.FormField,{control:e.control,name:"name",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Address Name"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"e.g. Home / Work",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:e.control,name:"details",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Details"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"Street, Building, Apartment",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:e.control,name:"phone",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Phone"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"tel",placeholder:"010xxxxxxxx",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:e.control,name:"city",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"City"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"City",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(l.Button,{type:"submit",className:"cursor-pointer w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Add Address"})]})}),a.length>0&&(0,b.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Saved Addresses"}),a.map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white border rounded-lg shadow-sm flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-blue-600",children:a.name}),(0,b.jsx)("p",{className:"text-gray-700",children:a.details}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["ðŸ“ž ",a.phone]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["ðŸ™ ",a.city]})]}),(0,b.jsx)("button",{onClick:()=>r(a._id),className:"cursor-pointer ml-4 px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},a._id))]})]})}}];

//# sourceMappingURL=src_69f68d55._.js.map